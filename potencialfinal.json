{"ENTITY_ID":26,"tables":[{"id":"b6b3a3b0-8901-4559-91ec-470a13a9a292","position":{"x":2436,"y":565},"data":{"table_name":"service_user","fields":[{"fieldName":"user_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"nationality","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"phone","fieldType":2,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"birthday","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"email","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"password","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":7,"checkName":["constraint_name","constraint_phone","constraint_birthday"],"checkCondition":["--  'name' field only contains letters and spaces\nname ~ '^[a-zA-Z ]+$';","--  phone - Phone number has to comprise of 9 digits\nLENGTH(phone) != 9 OR phone !~ '^[0-9]+$'","-- birthday - Birthday can't be earlier than 1904\nbirthday < '1904-01-01'\n"]}},{"id":"74aec367-5973-4880-b60d-98f169237565","position":{"x":892,"y":3},"data":{"table_name":"employee","fields":[{"fieldName":"emp_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":[1,1],"isAutoIncrement":false}],"next_id":1,"checkName":["constraint_0"],"checkCondition":["-- 'emp_id' must have 10 digits and be non-negative\nLENGHT(emp_id) = 10 "]}},{"id":"394942b6-9c19-4b59-8488-103c70e2ee84","position":{"x":356,"y":13},"data":{"table_name":"assistant","fields":[],"next_id":2,"checkName":[],"checkCondition":[]}},{"id":"2b7f3cde-f5fd-445e-8e28-3462d7117908","position":{"x":1390,"y":224},"data":{"table_name":"nurse","fields":[],"next_id":3,"checkName":[],"checkCondition":[]}},{"id":"72c72f15-cdb6-4a53-90e4-6c1e560b968e","position":{"x":261,"y":252},"data":{"table_name":"doctor","fields":[{"fieldName":"university","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"licence_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"graduation_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0"],"checkCondition":["--  'university' field only contains letters and spaces\nuniversity~ '^[a-zA-Z ]+$';"]}},{"id":"58a2bbc9-a578-4282-9ace-60e2a134cc4b","position":{"x":830,"y":1219},"data":{"table_name":"patient","fields":[{"fieldName":"patient_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":4,"checkName":[],"checkCondition":[]}},{"id":"1804b776-7046-413e-820e-f25a887ccdf9","position":{"x":1529,"y":795},"data":{"table_name":"appointment","fields":[{"fieldName":"app_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"app_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"type","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["--  'type' field only contains letters and spaces\ntype~ '^[a-zA-Z ]+$';"]}},{"id":"76164bfb-4d5c-4031-baf1-3c5b46872369","position":{"x":865,"y":790},"data":{"table_name":"surgery","fields":[{"fieldName":"surgery_id","fieldType":3,"isPK":true,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"type","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"surg_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":5,"checkName":[],"checkCondition":[]}},{"id":"cf922016-66bc-4aa8-84c1-5bc85fc06a8a","position":{"x":183,"y":794},"data":{"table_name":"hospitalization","fields":[{"fieldName":"hosp_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"start_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"end_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"type","fieldType":0,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0","constraint_1"],"checkCondition":["--  'type' field only contains letters and spaces\ntype~ '^[a-zA-Z ]+$';","-- start_date must be preivous to end_date\nstart_date >= end_date;"]}},{"id":"6187ba99-ee1f-40a6-9a8d-2b2bb2b60754","position":{"x":177,"y":1217},"data":{"table_name":"prescription","fields":[{"fieldName":"presc_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"presc_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":2,"checkName":[],"checkCondition":[]}},{"id":"f91c97d0-62d4-469e-b090-3b758a8aac65","position":{"x":185,"y":1511},"data":{"table_name":"medication","fields":[{"fieldName":"med_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"med_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["--  'med_name' field only contains letters and spaces\nmed_name ~ '^[a-zA-Z ]+$';"]}},{"id":"d032d480-09ef-4b68-8ada-29feb0391403","position":{"x":1531,"y":1510},"data":{"table_name":"side_effect","fields":[{"fieldName":"effect_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"symptom","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0"],"checkCondition":["--  'symptom' field only contains letters and spaces\nsymptom~ '^[a-zA-Z ]+$';"]}},{"id":"c7156ccb-61c1-4d0b-9ce8-8a8a53bdc963","position":{"x":902,"y":-339},"data":{"table_name":"contract","fields":[{"fieldName":"contract_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"start_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"end_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":7,"checkName":["constraint_0","constraint_1"],"checkCondition":["-- start_date must be preivous to end_date\nstart_date >= end_date;","-- 'contract_id' must have 10 digits and be non-negative\nLENGHT(contract_id) = 10 "]}},{"id":"77c89702-e723-4bb8-ba11-f08cbb0149f0","position":{"x":1504,"y":1222},"data":{"table_name":"bill","fields":[{"fieldName":"bill_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"cost","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"is_payed","fieldType":0,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"false","args":[1,1],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["-- '~cost' must be positive\ncost> 0"]}},{"id":"f6944ec9-e749-4ea0-8d40-0254871a3188","position":{"x":-309,"y":263},"data":{"table_name":"specializes","fields":[{"fieldName":"spec_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"spec_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["--  'spec_name' field only contains letters and spaces\nspec_name~ '^[a-zA-Z ]+$';"]}},{"id":"04759d88-9ea5-4695-8d31-f522eb8fd147","position":{"x":832,"y":1511},"data":{"table_name":"effect_properties","fields":[{"fieldName":"probability","fieldType":4,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["8"],"isAutoIncrement":false},{"fieldName":"severity","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0","constraint_1"],"checkCondition":["-- 'severity' must be positive\nseverity> 0","-- 'probability' must be between 0 and 1\nprobability> 0 AND probability < 1"]}},{"id":"a3271904-6f03-40a3-a400-7d80937cbfcb","position":{"x":1518,"y":519},"data":{"table_name":"enrolment_appointment","fields":[],"next_id":1,"checkName":[],"checkCondition":[]}},{"id":"abbfdfe3-ee5e-4d3d-b4c9-3b0385d2fe0a","position":{"x":1148,"y":519},"data":{"table_name":"enrolment_surgery","fields":[],"next_id":1,"checkName":[],"checkCondition":[]}},{"id":"386a991f-8e0a-441f-9aee-76b55adab5db","position":{"x":2057,"y":1214},"data":{"table_name":"payment","fields":[{"fieldName":"payment_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"amount","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"payment_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["-- 'amount' must be positive\namount > 0"]}},{"id":"67be5928-f11f-4d71-a075-9c57d951d34b","position":{"x":-213,"y":1350},"data":{"table_name":"dose","fields":[{"fieldName":"amount","fieldType":2,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"time_of_day","fieldType":10,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"duration","fieldType":1,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0","constraint_1","constraint_2"],"checkCondition":["-- 'amount' must be positive\namount > 0","-- 'duration' must be positive\nduration> 0","-- 'time_of_the_day' has the domain morning, afternoon or evening\n(time_of_the_day IN ('morning', 'afternoon', 'evening'));"]}},{"id":"5ece5850-c0fc-4d9f-bdeb-9da6ed4caafd","position":{"x":1874,"y":218},"data":{"table_name":"rank","fields":[{"fieldName":"rank_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"rank_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0","constraint_1"],"checkCondition":["--  'rank_name' field only contains letters and spaces\nrank_name ~ '^[a-zA-Z ]+$';","-- 'rank_id' must have 10 digits and be non-negative\nLENGHT(rank_id) = 10 "]}},{"id":"49e8e7c2-a1bc-4e97-a341-ca3bd983dee8","position":{"x":1930,"y":395},"data":{"table_name":"role","fields":[{"fieldName":"role_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"role_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0"],"checkCondition":["--  'role_name' field only contains letters and spaces\nrole_name ~ '^[a-zA-Z ]+$';"]}}],"links":[{"source":"394942b6-9c19-4b59-8488-103c70e2ee84","target":"74aec367-5973-4880-b60d-98f169237565","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"2b7f3cde-f5fd-445e-8e28-3462d7117908","target":"74aec367-5973-4880-b60d-98f169237565","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"72c72f15-cdb6-4a53-90e4-6c1e560b968e","target":"74aec367-5973-4880-b60d-98f169237565","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"74aec367-5973-4880-b60d-98f169237565","target":"b6b3a3b0-8901-4559-91ec-470a13a9a292","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"58a2bbc9-a578-4282-9ace-60e2a134cc4b","target":"b6b3a3b0-8901-4559-91ec-470a13a9a292","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"cf922016-66bc-4aa8-84c1-5bc85fc06a8a","target":"2b7f3cde-f5fd-445e-8e28-3462d7117908","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"is_responsible_for","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"72c72f15-cdb6-4a53-90e4-6c1e560b968e","target":"76164bfb-4d5c-4031-baf1-3c5b46872369","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"conducts","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"cf922016-66bc-4aa8-84c1-5bc85fc06a8a","target":"76164bfb-4d5c-4031-baf1-3c5b46872369","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"requires","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"72c72f15-cdb6-4a53-90e4-6c1e560b968e","target":"1804b776-7046-413e-820e-f25a887ccdf9","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"conducts","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"58a2bbc9-a578-4282-9ace-60e2a134cc4b","target":"1804b776-7046-413e-820e-f25a887ccdf9","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"58a2bbc9-a578-4282-9ace-60e2a134cc4b","target":"cf922016-66bc-4aa8-84c1-5bc85fc06a8a","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"undergoes","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"cf922016-66bc-4aa8-84c1-5bc85fc06a8a","target":"6187ba99-ee1f-40a6-9a8d-2b2bb2b60754","order":"normal","sourceCard":"0:1","targetCard":"0:n","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"6187ba99-ee1f-40a6-9a8d-2b2bb2b60754","target":"1804b776-7046-413e-820e-f25a887ccdf9","order":"normal","sourceCard":"0:n","targetCard":"0:1","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"74aec367-5973-4880-b60d-98f169237565","target":"c7156ccb-61c1-4d0b-9ce8-8a8a53bdc963","order":"normal","sourceCard":"1:1","targetCard":"1:1","label":"has","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"cf922016-66bc-4aa8-84c1-5bc85fc06a8a","target":"77c89702-e723-4bb8-ba11-f08cbb0149f0","order":"normal","sourceCard":"0:1","targetCard":"1:1","label":"costs","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"1804b776-7046-413e-820e-f25a887ccdf9","target":"77c89702-e723-4bb8-ba11-f08cbb0149f0","order":"normal","sourceCard":"0:1","targetCard":"1:1","label":"costs","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"f6944ec9-e749-4ea0-8d40-0254871a3188","target":"72c72f15-cdb6-4a53-90e4-6c1e560b968e","order":"normal","sourceCard":"0:n","targetCard":"0:n","label":"has_specialization","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"f6944ec9-e749-4ea0-8d40-0254871a3188","target":"f6944ec9-e749-4ea0-8d40-0254871a3188","order":"normal","sourceCard":"0:1","targetCard":"0:n","label":"hierarchy","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"f91c97d0-62d4-469e-b090-3b758a8aac65","target":"04759d88-9ea5-4695-8d31-f522eb8fd147","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"has","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"04759d88-9ea5-4695-8d31-f522eb8fd147","target":"d032d480-09ef-4b68-8ada-29feb0391403","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"of","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"2b7f3cde-f5fd-445e-8e28-3462d7117908","target":"abbfdfe3-ee5e-4d3d-b4c9-3b0385d2fe0a","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"enrols","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"abbfdfe3-ee5e-4d3d-b4c9-3b0385d2fe0a","target":"76164bfb-4d5c-4031-baf1-3c5b46872369","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"in","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"2b7f3cde-f5fd-445e-8e28-3462d7117908","target":"a3271904-6f03-40a3-a400-7d80937cbfcb","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"enrols","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"a3271904-6f03-40a3-a400-7d80937cbfcb","target":"1804b776-7046-413e-820e-f25a887ccdf9","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"in","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"386a991f-8e0a-441f-9aee-76b55adab5db","target":"77c89702-e723-4bb8-ba11-f08cbb0149f0","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"pays","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"67be5928-f11f-4d71-a075-9c57d951d34b","target":"6187ba99-ee1f-40a6-9a8d-2b2bb2b60754","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"has_dosage","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"67be5928-f11f-4d71-a075-9c57d951d34b","target":"f91c97d0-62d4-469e-b090-3b758a8aac65","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"of","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"2b7f3cde-f5fd-445e-8e28-3462d7117908","target":"5ece5850-c0fc-4d9f-bdeb-9da6ed4caafd","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"has_rank","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"a3271904-6f03-40a3-a400-7d80937cbfcb","target":"49e8e7c2-a1bc-4e97-a341-ca3bd983dee8","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"as","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"abbfdfe3-ee5e-4d3d-b4c9-3b0385d2fe0a","target":"49e8e7c2-a1bc-4e97-a341-ca3bd983dee8","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"as","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"5ece5850-c0fc-4d9f-bdeb-9da6ed4caafd","target":"5ece5850-c0fc-4d9f-bdeb-9da6ed4caafd","order":"normal","sourceCard":"0:1","targetCard":"0:n","label":"hierarchy","hierType":null,"sourceisweak":false,"targetisweak":false}],"normalization":1,"database":0}