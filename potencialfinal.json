{"ENTITY_ID":26,"tables":[{"id":"6254d69c-59bc-4797-92b3-b12366cc159a","position":{"x":2454,"y":569},"data":{"table_name":"service_user","fields":[{"fieldName":"user_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"nationality","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"phone","fieldType":2,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"birthday","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"email","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"password","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":7,"checkName":["constraint_name","constraint_phone","constraint_birthday"],"checkCondition":["--  'name' field only contains letters and spaces\nname ~ '^[a-zA-Z ]+$';","--  phone - Phone number has to comprise of 9 digits\nLENGTH(phone) != 9 OR phone !~ '^[0-9]+$'","-- birthday - Birthday can't be earlier than 1904\nbirthday < '1904-01-01'\n"]}},{"id":"87d7dbc7-6831-4f0c-ab07-c2dc86ddd8e6","position":{"x":892,"y":3},"data":{"table_name":"employee","fields":[],"next_id":1,"checkName":[],"checkCondition":[]}},{"id":"260c7928-dc9f-4714-bca8-6b9492ff974a","position":{"x":356,"y":13},"data":{"table_name":"assistant","fields":[],"next_id":2,"checkName":[],"checkCondition":[]}},{"id":"1d7a51d5-7cee-4932-bbc7-dc82ea76a4c9","position":{"x":1390,"y":224},"data":{"table_name":"nurse","fields":[],"next_id":3,"checkName":[],"checkCondition":[]}},{"id":"203f43fb-4e79-444c-89e9-b3113b001c58","position":{"x":261,"y":252},"data":{"table_name":"doctor","fields":[{"fieldName":"university","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"licence_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"graduation_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0"],"checkCondition":["--  'university' field only contains letters and spaces\nuniversity~ '^[a-zA-Z ]+$';"]}},{"id":"4f1aa1fb-440d-4466-906d-0ece38eb8b2b","position":{"x":830,"y":1219},"data":{"table_name":"patient","fields":[{"fieldName":"patient_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":4,"checkName":[],"checkCondition":[]}},{"id":"64b1b0c9-447a-4e20-9877-fb3e61fa848c","position":{"x":1529,"y":795},"data":{"table_name":"appointment","fields":[{"fieldName":"app_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"app_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"type","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["--  'type' field only contains letters and spaces\ntype~ '^[a-zA-Z ]+$';"]}},{"id":"273ea41c-c7f8-4358-8dba-108cd49bb0f3","position":{"x":865,"y":790},"data":{"table_name":"surgery","fields":[{"fieldName":"surgery_id","fieldType":3,"isPK":true,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"type","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"surg_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":5,"checkName":[],"checkCondition":[]}},{"id":"31f03520-f646-46e3-8aa6-7c4d76356ded","position":{"x":183,"y":794},"data":{"table_name":"hospitalization","fields":[{"fieldName":"hosp_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"start_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"end_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"type","fieldType":0,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0","constraint_1"],"checkCondition":["--  'type' field only contains letters and spaces\ntype~ '^[a-zA-Z ]+$';","-- start_date must be preivous to end_date\nstart_date >= end_date;"]}},{"id":"13a04e8e-1c33-48d5-b055-a8457d5c1532","position":{"x":177,"y":1217},"data":{"table_name":"prescription","fields":[{"fieldName":"presc_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"presc_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":2,"checkName":[],"checkCondition":[]}},{"id":"7fe62dc9-c329-4f74-a6e9-6611f2a7ef4e","position":{"x":185,"y":1511},"data":{"table_name":"medication","fields":[{"fieldName":"med_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"med_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["--  'med_name' field only contains letters and spaces\nmed_name ~ '^[a-zA-Z ]+$';"]}},{"id":"77ffa166-a6df-40eb-baa9-e467484fc51d","position":{"x":1531,"y":1510},"data":{"table_name":"side_effect","fields":[{"fieldName":"effect_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"symptom","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0"],"checkCondition":["--  'symptom' field only contains letters and spaces\nsymptom~ '^[a-zA-Z ]+$';"]}},{"id":"0c261224-4e3a-410b-a1d7-f2a09185a677","position":{"x":902,"y":-339},"data":{"table_name":"contract","fields":[{"fieldName":"contract_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"start_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"end_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":7,"checkName":["constraint_0","constraint_1"],"checkCondition":["-- start_date must be preivous to end_date\nstart_date >= end_date;","-- 'contract_id' must have 10 digits and be non-negative\nLENGHT(contract_id) = 10 "]}},{"id":"13160189-cf6e-4f30-996e-73431cca7294","position":{"x":1504,"y":1222},"data":{"table_name":"bill","fields":[{"fieldName":"bill_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"cost","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"is_payed","fieldType":0,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"false","args":[1,1],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["-- '~cost' must be positive\ncost> 0"]}},{"id":"6a3a9a64-ca4b-4856-a2ee-1eef91e5acef","position":{"x":-309,"y":263},"data":{"table_name":"specializes","fields":[{"fieldName":"spec_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"spec_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["--  'spec_name' field only contains letters and spaces\nspec_name~ '^[a-zA-Z ]+$';"]}},{"id":"97bbfb23-a207-434d-ad67-b6767cd0343c","position":{"x":832,"y":1511},"data":{"table_name":"effect_properties","fields":[{"fieldName":"probability","fieldType":4,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["8"],"isAutoIncrement":false},{"fieldName":"severity","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0","constraint_1"],"checkCondition":["-- 'severity' must be positive\nseverity> 0","-- 'probability' must be between 0 and 1\nprobability> 0 AND probability < 1"]}},{"id":"49539e95-cdc4-4723-a381-0668bb9dc8e9","position":{"x":1518,"y":519},"data":{"table_name":"enrolment_appointment","fields":[],"next_id":1,"checkName":[],"checkCondition":[]}},{"id":"863f40a5-5756-45ad-857e-68ada8fb2a44","position":{"x":1148,"y":519},"data":{"table_name":"enrolment_surgery","fields":[],"next_id":1,"checkName":[],"checkCondition":[]}},{"id":"aeb81f02-2948-4776-b0fd-07be4f0bdd4c","position":{"x":2053,"y":1216},"data":{"table_name":"payment","fields":[{"fieldName":"payment_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"amount","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"payment_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["-- 'amount' must be positive\namount > 0"]}},{"id":"300731f5-0d27-409f-bfd7-cc0c16b36760","position":{"x":-195,"y":1356},"data":{"table_name":"dose","fields":[{"fieldName":"amount","fieldType":2,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"time_of_day","fieldType":10,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"duration","fieldType":1,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0","constraint_1","constraint_2"],"checkCondition":["-- 'amount' must be positive\namount > 0","-- 'duration' must be positive\nduration> 0","-- 'time_of_the_day' has the domain morning, afternoon or evening\n(time_of_the_day IN ('morning', 'afternoon', 'evening'));"]}},{"id":"961dd876-40f6-4f25-acae-172c6f818233","position":{"x":1874,"y":218},"data":{"table_name":"rank","fields":[{"fieldName":"rank_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"rank_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0","constraint_1"],"checkCondition":["--  'rank_name' field only contains letters and spaces\nrank_name ~ '^[a-zA-Z ]+$';","-- 'rank_id' must have 10 digits and be non-negative\nLENGHT(rank_id) = 10 "]}},{"id":"fd5750fb-44ef-46af-8e89-c0ddb3354f99","position":{"x":1916,"y":357},"data":{"table_name":"role","fields":[{"fieldName":"role_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"role_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0"],"checkCondition":["--  'role_name' field only contains letters and spaces\nrole_name ~ '^[a-zA-Z ]+$';"]}}],"links":[{"source":"260c7928-dc9f-4714-bca8-6b9492ff974a","target":"87d7dbc7-6831-4f0c-ab07-c2dc86ddd8e6","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"1d7a51d5-7cee-4932-bbc7-dc82ea76a4c9","target":"87d7dbc7-6831-4f0c-ab07-c2dc86ddd8e6","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"203f43fb-4e79-444c-89e9-b3113b001c58","target":"87d7dbc7-6831-4f0c-ab07-c2dc86ddd8e6","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"87d7dbc7-6831-4f0c-ab07-c2dc86ddd8e6","target":"6254d69c-59bc-4797-92b3-b12366cc159a","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"4f1aa1fb-440d-4466-906d-0ece38eb8b2b","target":"6254d69c-59bc-4797-92b3-b12366cc159a","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"31f03520-f646-46e3-8aa6-7c4d76356ded","target":"1d7a51d5-7cee-4932-bbc7-dc82ea76a4c9","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"is_responsible_for","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"203f43fb-4e79-444c-89e9-b3113b001c58","target":"273ea41c-c7f8-4358-8dba-108cd49bb0f3","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"conducts","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"31f03520-f646-46e3-8aa6-7c4d76356ded","target":"273ea41c-c7f8-4358-8dba-108cd49bb0f3","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"requires","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"203f43fb-4e79-444c-89e9-b3113b001c58","target":"64b1b0c9-447a-4e20-9877-fb3e61fa848c","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"conducts","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"4f1aa1fb-440d-4466-906d-0ece38eb8b2b","target":"64b1b0c9-447a-4e20-9877-fb3e61fa848c","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"4f1aa1fb-440d-4466-906d-0ece38eb8b2b","target":"31f03520-f646-46e3-8aa6-7c4d76356ded","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"undergoes","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"31f03520-f646-46e3-8aa6-7c4d76356ded","target":"13a04e8e-1c33-48d5-b055-a8457d5c1532","order":"normal","sourceCard":"0:1","targetCard":"0:n","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"13a04e8e-1c33-48d5-b055-a8457d5c1532","target":"64b1b0c9-447a-4e20-9877-fb3e61fa848c","order":"normal","sourceCard":"0:n","targetCard":"0:1","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"87d7dbc7-6831-4f0c-ab07-c2dc86ddd8e6","target":"0c261224-4e3a-410b-a1d7-f2a09185a677","order":"normal","sourceCard":"1:1","targetCard":"1:1","label":"has","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"31f03520-f646-46e3-8aa6-7c4d76356ded","target":"13160189-cf6e-4f30-996e-73431cca7294","order":"normal","sourceCard":"0:1","targetCard":"1:1","label":"costs","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"64b1b0c9-447a-4e20-9877-fb3e61fa848c","target":"13160189-cf6e-4f30-996e-73431cca7294","order":"normal","sourceCard":"0:1","targetCard":"1:1","label":"costs","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"6a3a9a64-ca4b-4856-a2ee-1eef91e5acef","target":"203f43fb-4e79-444c-89e9-b3113b001c58","order":"normal","sourceCard":"0:n","targetCard":"0:n","label":"has_specialization","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"6a3a9a64-ca4b-4856-a2ee-1eef91e5acef","target":"6a3a9a64-ca4b-4856-a2ee-1eef91e5acef","order":"normal","sourceCard":"0:1","targetCard":"0:n","label":"hierarchy","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"7fe62dc9-c329-4f74-a6e9-6611f2a7ef4e","target":"97bbfb23-a207-434d-ad67-b6767cd0343c","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"has","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"97bbfb23-a207-434d-ad67-b6767cd0343c","target":"77ffa166-a6df-40eb-baa9-e467484fc51d","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"of","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"1d7a51d5-7cee-4932-bbc7-dc82ea76a4c9","target":"863f40a5-5756-45ad-857e-68ada8fb2a44","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"enrols","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"863f40a5-5756-45ad-857e-68ada8fb2a44","target":"273ea41c-c7f8-4358-8dba-108cd49bb0f3","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"in","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"1d7a51d5-7cee-4932-bbc7-dc82ea76a4c9","target":"49539e95-cdc4-4723-a381-0668bb9dc8e9","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"enrols","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"49539e95-cdc4-4723-a381-0668bb9dc8e9","target":"64b1b0c9-447a-4e20-9877-fb3e61fa848c","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"in","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"aeb81f02-2948-4776-b0fd-07be4f0bdd4c","target":"13160189-cf6e-4f30-996e-73431cca7294","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"pays","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"300731f5-0d27-409f-bfd7-cc0c16b36760","target":"13a04e8e-1c33-48d5-b055-a8457d5c1532","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"has_dosage","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"300731f5-0d27-409f-bfd7-cc0c16b36760","target":"7fe62dc9-c329-4f74-a6e9-6611f2a7ef4e","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"of","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"1d7a51d5-7cee-4932-bbc7-dc82ea76a4c9","target":"961dd876-40f6-4f25-acae-172c6f818233","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"has_rank","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"49539e95-cdc4-4723-a381-0668bb9dc8e9","target":"fd5750fb-44ef-46af-8e89-c0ddb3354f99","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"as","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"863f40a5-5756-45ad-857e-68ada8fb2a44","target":"fd5750fb-44ef-46af-8e89-c0ddb3354f99","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"as","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"961dd876-40f6-4f25-acae-172c6f818233","target":"961dd876-40f6-4f25-acae-172c6f818233","order":"normal","sourceCard":"0:1","targetCard":"0:n","label":"hierarchy","hierType":null,"sourceisweak":false,"targetisweak":false}],"normalization":1,"database":0}